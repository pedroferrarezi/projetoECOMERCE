<ion-menu contentId="content">

  <!-- <div class="user-menu" (click)="showOptions()">
    <img src='{{ photo }}'>
    <h4>{{ name }}</h4>
  </div> -->

  <div class="user-menu" (click)="showOptions()">
    <img src='https://media-exp1.licdn.com/dms/image/C4D03AQH2pmPnlrZVVQ/profile-displayphoto-shrink_200_200/0?e=1603929600&v=beta&t=edgbQZT4Z0AlCJ2d8Elan7oZH8xum2awHxK7DJbcfFc'>
    <h4>Fábio</h4>
  </div>

  <ion-content mode="md">

    <div *ngFor="let p of pages">

      <ion-menu-toggle *ngIf="p.url" mode="md">
        <ion-item [routerLink]="p.url" routerDirection="root" routerLinkActive="active" lines="full">
          <ion-icon [name]="p.icon" slot="start"></ion-icon>
          <ion-label>
            {{ p.title }}
          </ion-label>
        </ion-item>
      </ion-menu-toggle>

      <ion-item button *ngIf="p.children?.length > 0" (click)="p.open = !p.open" [class.active-parent]="p.open"
        detail=false lines="full" mode="md">
        <ion-icon slot="end" name="chevron-forward-outline" *ngIf="!p.open"></ion-icon>
        <ion-icon slot="end" name="chevron-down-outline" *ngIf="p.open"></ion-icon>
        <ion-icon [name]="p.icon" slot="start"></ion-icon>
        <ion-label>{{ p.title }}</ion-label>
      </ion-item>

      <ion-list *ngIf="p.open" mode="md">
        <ion-menu-toggle mode="md">
          <ion-item class="sub-item" *ngFor="let sub of p.children" [routerLink]="sub.url" routerDirection="root"
            routerLinkActive="active">
            <ion-icon [name]="sub.icon" slot="start"></ion-icon>
            <ion-label>
              {{ sub.title }}
            </ion-label>
          </ion-item>
        </ion-menu-toggle>
      </ion-list>
    </div>

    <div>
      <ion-menu-toggle>
        <ion-item routerDirection="root" routerLinkActive="active" lines="full">
          <ion-icon name="trail-sign-outline" slot="start"></ion-icon>
          <ion-label>
            Mudar localização
          </ion-label>
        </ion-item>
      <ion-item routerLink="/menu/configuracoes" routerDirection="root" routerLinkActive="active" lines="full">
        <ion-icon name="settings-outline" slot="start"></ion-icon>
        <ion-label>
          Configurações
        </ion-label>
      </ion-item>
    </ion-menu-toggle>
    </div>

  </ion-content>

</ion-menu>

<ion-router-outlet id="content" main></ion-router-outlet>